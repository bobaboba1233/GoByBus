{"ast":null,"code":"var _jsxFileName = \"E:\\\\work shit\\\\gobybus\\\\client\\\\src\\\\components\\\\Header.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useRef, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from '../logo.svg';\nimport '../styles/header.css';\nimport Login from './Login';\nimport { AuthContext } from '../context/AuthContext';\nimport Register from './Register';\nimport { FaUser, FaCog, FaSignOutAlt } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Header = () => {\n  _s();\n  const [isLoginOpen, setLoginOpen] = useState(false);\n  const [isRegisterOpen, setRegisterOpen] = useState(false);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const {\n    user,\n    isAuth,\n    logout\n  } = useContext(AuthContext);\n  const menuRef = useRef();\n\n  // Закрытие меню при клике вне его\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\n        setIsMenuOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"header\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"nav\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/tours\",\n          children: \"\\u0412\\u044B\\u0433\\u043E\\u0434\\u043D\\u044B\\u0435 \\u043F\\u0443\\u0442\\u0435\\u0432\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/support\",\n          children: \"\\u041F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), isAuth ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-menu-container\",\n          ref: menuRef,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-avatar\",\n            onClick: () => setIsMenuOpen(!isMenuOpen),\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: (user === null || user === void 0 ? void 0 : user.avatar) || `https://ui-avatars.com/api/?name=${user === null || user === void 0 ? void 0 : user.email[0]}&background=random`,\n              alt: \"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\",\n              onError: e => {\n                e.target.src = `https://ui-avatars.com/api/?name=U&background=random`;\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }, this), isMenuOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-menu\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/profile\",\n              onClick: () => setIsMenuOpen(false),\n              children: [/*#__PURE__*/_jsxDEV(FaUser, {\n                className: \"menu-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 21\n              }, this), \" \\u041C\\u043E\\u0439 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/profileTickets\",\n              onClick: () => setIsMenuOpen(false),\n              children: [/*#__PURE__*/_jsxDEV(FaCog, {\n                className: \"menu-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 21\n              }, this), \" \\u0411\\u0438\\u043B\\u0435\\u0442\\u044B\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                logout();\n                setIsMenuOpen(false);\n              },\n              children: [/*#__PURE__*/_jsxDEV(FaSignOutAlt, {\n                className: \"menu-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 21\n              }, this), \" \\u0412\\u044B\\u0439\\u0442\\u0438\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"auth-link\",\n          onClick: () => setLoginOpen(true),\n          children: \"\\u0412\\u0445\\u043E\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), isLoginOpen && /*#__PURE__*/_jsxDEV(Login, {\n        onClose: () => setLoginOpen(false),\n        onSwitchToRegister: () => {\n          setLoginOpen(false);\n          setRegisterOpen(true);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), isRegisterOpen && /*#__PURE__*/_jsxDEV(Register, {\n        onClose: () => setRegisterOpen(false),\n        onSwitchToLogin: () => {\n          setRegisterOpen(false);\n          setLoginOpen(true);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(Header, \"AWscKBtm1Z4LB0PjnHHX0O4qHo4=\");\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useState","useContext","useRef","useEffect","Link","logo","Login","AuthContext","Register","FaUser","FaCog","FaSignOutAlt","jsxDEV","_jsxDEV","Header","_s","isLoginOpen","setLoginOpen","isRegisterOpen","setRegisterOpen","isMenuOpen","setIsMenuOpen","user","isAuth","logout","menuRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","className","children","to","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","ref","onClick","avatar","email","onError","e","onClose","onSwitchToRegister","onSwitchToLogin","_c","$RefreshReg$"],"sources":["E:/work shit/gobybus/client/src/components/Header.jsx"],"sourcesContent":["import React, { useState, useContext, useRef, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from '../logo.svg';\nimport '../styles/header.css';\nimport Login from './Login';\nimport { AuthContext } from '../context/AuthContext';\nimport Register from './Register';\nimport { FaUser, FaCog, FaSignOutAlt } from 'react-icons/fa';\n\nconst Header = () => {\n  const [isLoginOpen, setLoginOpen] = useState(false);\n  const [isRegisterOpen, setRegisterOpen] = useState(false);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const { user, isAuth, logout } = useContext(AuthContext);\n  const menuRef = useRef();\n\n  // Закрытие меню при клике вне его\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\n        setIsMenuOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  return (\n    <header className=\"header\">\n      <div className=\"container\">\n        <Link to=\"/\" className=\"logo\">\n          <img src={logo} alt=\"Логотип\" />\n        </Link>\n        <nav className=\"nav\">\n          <Link to=\"/\">Главная</Link>\n          <Link to=\"/tours\">Выгодные путевки</Link>\n          <Link to=\"/support\">Поддержка</Link>\n          \n          {isAuth ? (\n            <div className=\"user-menu-container\" ref={menuRef}>\n              <div \n                className=\"user-avatar\" \n                onClick={() => setIsMenuOpen(!isMenuOpen)}\n              >\n                <img \n                  src={user?.avatar || `https://ui-avatars.com/api/?name=${user?.email[0]}&background=random`} \n                  alt=\"Аватар\" \n                  onError={(e) => {\n                    e.target.src = `https://ui-avatars.com/api/?name=U&background=random`;\n                  }}\n                />\n              </div>\n              \n              {isMenuOpen && (\n                <div className=\"dropdown-menu\">\n                  <Link to=\"/profile\" onClick={() => setIsMenuOpen(false)}>\n                    <FaUser className=\"menu-icon\" /> Мой профиль\n                  </Link>\n                  <Link to=\"/profileTickets\" onClick={() => setIsMenuOpen(false)}>\n                    <FaCog className=\"menu-icon\" /> Билеты\n                  </Link>\n                  <button onClick={() => { logout(); setIsMenuOpen(false); }}>\n                    <FaSignOutAlt className=\"menu-icon\" /> Выйти\n                  </button>\n                </div>\n              )}\n            </div>\n          ) : (\n            <button \n              className=\"auth-link\" \n              onClick={() => setLoginOpen(true)}\n            >\n              Вход\n            </button>\n          )}\n        </nav>\n\n        {/* Модальные окна */}\n        {isLoginOpen && (\n          <Login\n            onClose={() => setLoginOpen(false)}\n            onSwitchToRegister={() => {\n              setLoginOpen(false);\n              setRegisterOpen(true);\n            }}\n          />\n        )}\n\n        {isRegisterOpen && (\n          <Register\n            onClose={() => setRegisterOpen(false)}\n            onSwitchToLogin={() => {\n              setRegisterOpen(false);\n              setLoginOpen(true);\n            }}\n          />\n        )}\n      </div>\n    </header>\n  );\n};\n\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}